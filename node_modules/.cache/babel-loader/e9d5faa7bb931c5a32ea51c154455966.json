{"ast":null,"code":"import _classCallCheck from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/konstantin/Desktop/web-master/src/Components/Navigation.js\";\n\n/* global fetch */\nimport React, { Component, Fragment } from 'react';\n\nvar Navigation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navigation, _Component);\n\n  function Navigation(props) {\n    var _this;\n\n    _classCallCheck(this, Navigation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navigation).call(this, props));\n    _this.state = {\n      'showLoading': true,\n      'showError': false,\n      'showMenuContent': null\n    };\n    _this.elements = [];\n    _this.menuContent = new Map([[null, '']]);\n    return _this;\n  }\n\n  _createClass(Navigation, [{\n    key: \"active\",\n    value: function active() {\n      var dropdown = document.querySelector('.has-dropdown');\n      dropdown.addEventListener('click', function (event) {\n        event.stopPropagation();\n        dropdown.classList.toggle('is-active');\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://46.188.118.162:8082/navigations?type=\".concat(this.props.type)).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var map = new Map();\n        response.sort(function (a, b) {\n          return a.position === b.position ? a.subposition - b.subposition : a.position - b.position;\n        }).forEach(function (item) {\n          var name_ru = item.name_ru,\n              name_en = item.name_en,\n              position = item.position,\n              subposition = item.subposition,\n              id = item.id;\n          var articleId = item.hasOwnProperty('article') === true ? item.article.id : null;\n\n          if (map.has(position) === false) {\n            map.set(position, []);\n          }\n\n          map.get(position).push({\n            name_ru: name_ru,\n            name_en: name_en,\n            subposition: subposition,\n            articleId: articleId,\n            id: id\n          });\n        });\n        map.forEach(function (item) {\n          if (item.length === 1) {\n            _this2.elements.push(React.createElement(\"a\", {\n              className: \"navbar-item\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 47\n              },\n              __self: this\n            }, item.pop().name_end));\n          } else {\n            if (_this2.props.type === 'footer') {\n              var first = item.shift();\n\n              _this2.elements.push(React.createElement(\"a\", {\n                className: \"navbar-link\",\n                onClick: function onClick() {\n                  return _this2.setState({\n                    'showMenuContent': _this2.state.showMenuContent === first.id ? null : first.id\n                  });\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 53\n                },\n                __self: this\n              }, first.name_ru));\n\n              _this2.menuContent.set(first.id, React.createElement(\"div\", {\n                className: \"footer-column\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 56\n                },\n                __self: this\n              }, item.map(function (subItem) {\n                return React.createElement(\"a\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 58\n                  },\n                  __self: this\n                }, subItem.name_ru);\n              })));\n            } else {\n              _this2.elements.push(React.createElement(\"div\", {\n                className: \"navbar-item has-dropdown\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 64\n                },\n                __self: this\n              }, React.createElement(\"a\", {\n                className: \"navbar-link\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 66\n                },\n                __self: this\n              }, item.shift().name_ru), React.createElement(\"div\", {\n                className: \"navbar-dropdown\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 68\n                },\n                __self: this\n              }, item.map(function (subItem) {\n                return React.createElement(\"a\", {\n                  className: \"navbar-item\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 70\n                  },\n                  __self: this\n                }, subItem.name_ru);\n              }))));\n            }\n          }\n        });\n\n        _this2.setState({\n          'showLoading': false,\n          'showError': false\n        });\n      }).catch(function (error) {\n        console.error(error);\n\n        _this2.setState({\n          'showLoading': false,\n          'showError': true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.showLoading === true) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Loading\");\n      }\n\n      if (this.state.showError === true) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, \"Error\");\n      }\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"footerBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.elements))), this.menuContent.get(this.state.showMenuContent));\n    }\n  }]);\n\n  return Navigation;\n}(Component);\n\nexport default Navigation;","map":{"version":3,"sources":["/Users/konstantin/Desktop/web-master/src/Components/Navigation.js"],"names":["React","Component","Fragment","Navigation","props","state","elements","menuContent","Map","dropdown","document","querySelector","addEventListener","event","stopPropagation","classList","toggle","fetch","type","then","response","json","map","sort","a","b","position","subposition","forEach","item","name_ru","name_en","id","articleId","hasOwnProperty","article","has","set","get","push","length","pop","name_end","first","shift","setState","showMenuContent","subItem","catch","error","console","showLoading","showError"],"mappings":"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","sourcesContent":["/* global fetch */\n\nimport React, { Component, Fragment } from 'react'\n\nclass Navigation extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      'showLoading': true,\n      'showError': false,\n      'showMenuContent': null\n    }\n    this.elements = []\n    this.menuContent = new Map([[null, '']])\n  }\n  active () {\n    var dropdown = document.querySelector('.has-dropdown')\n    dropdown.addEventListener('click', function (event) {\n      event.stopPropagation()\n      dropdown.classList.toggle('is-active')\n    })\n  }\n  componentDidMount () {\n    fetch(`http://46.188.118.162:8082/navigations?type=${this.props.type}`)\n      .then(response => response.json())\n      .then(response => {\n        const map = new Map()\n        response\n          .sort((a, b) => a.position === b.position ? a.subposition - b.subposition : a.position - b.position)\n          .forEach(item => {\n            const { name_ru, name_en, position, subposition, id } = item\n            const articleId = item.hasOwnProperty('article') === true ? item.article.id : null\n            if (map.has(position) === false) {\n              map.set(position, [])\n            }\n            map.get(position).push({\n              name_ru,\n              name_en,\n              subposition,\n              articleId,\n              id\n            })\n          })\n        map.forEach(item => {\n          if (item.length === 1) {\n            this.elements.push(\n              <a className='navbar-item'>{item.pop().name_end}</a>\n            )\n          } else {\n            if (this.props.type === 'footer') {\n              const first = item.shift()\n              this.elements.push(\n                <a className='navbar-link' onClick={() => this.setState({ 'showMenuContent': this.state.showMenuContent === first.id ? null : first.id })}>{first.name_ru}</a>\n              )\n              this.menuContent.set(first.id, (\n                <div className='footer-column'>\n                  {\n                    item.map(subItem => <a>{subItem.name_ru}</a>)\n                  }\n                </div>\n              ))\n            } else {\n              this.elements.push(\n                <div className='navbar-item has-dropdown'>\n\n                  <a className='navbar-link'>{item.shift().name_ru}</a>\n\n                  <div className='navbar-dropdown'>\n                    {\n                      item.map(subItem => <a className='navbar-item'>{subItem.name_ru}</a>)\n                    }\n                  </div>\n                </div>\n              )\n            }\n          }\n        })\n        this.setState({\n          'showLoading': false,\n          'showError': false\n        })\n      })\n      .catch(error => {\n        console.error(error)\n        this.setState({\n          'showLoading': false,\n          'showError': true\n        })\n      })\n  }\n  render () {\n    if (this.state.showLoading === true) {\n      return (\n        <p>Loading</p>\n      )\n    }\n    if (this.state.showError === true) {\n      return (\n        <p>Error</p>\n      )\n    }\n    return (\n      <Fragment>\n        <div className='navbar'>\n          <div className='navbar-menu'>\n            <div class='footerBar'>\n              {this.elements}\n          </div>\n          </div>\n        </div>\n        {this.menuContent.get(this.state.showMenuContent)}\n      </Fragment>\n    )\n  }\n}\n\nexport default Navigation\n"]},"metadata":{},"sourceType":"module"}