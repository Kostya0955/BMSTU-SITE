{"ast":null,"code":"import _classCallCheck from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/konstantin/Desktop/web-master/src/Components/MainPage.js\";\n\n/* global fetch */\nimport React, { Component } from 'react';\nimport Navigation from './Navigation';\nimport News from './Components/news.js';\n\nvar MainPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MainPage, _Component);\n\n  function MainPage(props) {\n    var _this;\n\n    _classCallCheck(this, MainPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MainPage).call(this, props));\n    _this.state = {\n      'showLoading': true\n    };\n    _this.navigations = new Map();\n    return _this;\n  }\n\n  _createClass(MainPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://46.188.118.134:8082/navigations').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        response.sort(function (a, b) {\n          return a.position === b.position ? a.subposition - b.subposition : a.position - b.position;\n        }).forEach(function (item) {\n          var type = item.type,\n              name_ru = item.name_ru,\n              name_en = item.name_en,\n              position = item.position,\n              subposition = item.subposition;\n          var articleId = item.hasOwnProperty('article') === true ? item.article.id : null;\n\n          if (_this2.navigations.has(type) === false) {\n            _this2.navigations.set(type, new Map());\n          }\n\n          if (_this2.navigations.get(type).has(position) === false) {\n            _this2.navigations.get(type).set(position, []);\n          }\n\n          _this2.navigations.get(type).get(position).push({\n            name_ru: name_ru,\n            name_en: name_en,\n            subposition: subposition,\n            articleId: articleId\n          });\n        });\n\n        _this2.setState({\n          'showLoading': false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.showLoading === true) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"...\");\n      }\n\n      return React.createElement(Navigation, {\n        items: this.navigations.get('header'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(News, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return MainPage;\n}(Component);\n\nexport default MainPage;","map":{"version":3,"sources":["/Users/konstantin/Desktop/web-master/src/Components/MainPage.js"],"names":["React","Component","Navigation","News","MainPage","props","state","navigations","Map","fetch","then","response","json","sort","a","b","position","subposition","forEach","item","type","name_ru","name_en","articleId","hasOwnProperty","article","id","has","set","get","push","setState","showLoading"],"mappings":";;;;;;;AAAA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;IAEMC,Q;;;;;AACJ,oBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,kFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACX,qBAAe;AADJ,KAAb;AAGA,UAAKC,WAAL,GAAmB,IAAIC,GAAJ,EAAnB;AALkB;AAMnB;;;;wCAEoB;AAAA;;AACnBC,MAAAA,KAAK,CAAC,wCAAD,CAAL,CACGC,IADH,CACQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OADhB,EAEGF,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBA,QAAAA,QAAQ,CACLE,IADH,CACQ,UAACC,CAAD,EAAIC,CAAJ;AAAA,iBAAUD,CAAC,CAACE,QAAF,KAAeD,CAAC,CAACC,QAAjB,GAA4BF,CAAC,CAACG,WAAF,GAAgBF,CAAC,CAACE,WAA9C,GAA4DH,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAArF;AAAA,SADR,EAEGE,OAFH,CAEW,UAAAC,IAAI,EAAI;AAAA,cACPC,IADO,GAC2CD,IAD3C,CACPC,IADO;AAAA,cACDC,OADC,GAC2CF,IAD3C,CACDE,OADC;AAAA,cACQC,OADR,GAC2CH,IAD3C,CACQG,OADR;AAAA,cACiBN,QADjB,GAC2CG,IAD3C,CACiBH,QADjB;AAAA,cAC2BC,WAD3B,GAC2CE,IAD3C,CAC2BF,WAD3B;AAEf,cAAMM,SAAS,GAAGJ,IAAI,CAACK,cAAL,CAAoB,SAApB,MAAmC,IAAnC,GAA0CL,IAAI,CAACM,OAAL,CAAaC,EAAvD,GAA4D,IAA9E;;AACA,cAAI,MAAI,CAACnB,WAAL,CAAiBoB,GAAjB,CAAqBP,IAArB,MAA+B,KAAnC,EAA0C;AACxC,YAAA,MAAI,CAACb,WAAL,CAAiBqB,GAAjB,CAAqBR,IAArB,EAA2B,IAAIZ,GAAJ,EAA3B;AACD;;AACD,cAAI,MAAI,CAACD,WAAL,CAAiBsB,GAAjB,CAAqBT,IAArB,EAA2BO,GAA3B,CAA+BX,QAA/B,MAA6C,KAAjD,EAAwD;AACtD,YAAA,MAAI,CAACT,WAAL,CAAiBsB,GAAjB,CAAqBT,IAArB,EAA2BQ,GAA3B,CAA+BZ,QAA/B,EAAyC,EAAzC;AACD;;AACD,UAAA,MAAI,CAACT,WAAL,CAAiBsB,GAAjB,CAAqBT,IAArB,EAA2BS,GAA3B,CAA+Bb,QAA/B,EAAyCc,IAAzC,CAA8C;AAC5CT,YAAAA,OAAO,EAAPA,OAD4C;AAE5CC,YAAAA,OAAO,EAAPA,OAF4C;AAG5CL,YAAAA,WAAW,EAAXA,WAH4C;AAI5CM,YAAAA,SAAS,EAATA;AAJ4C,WAA9C;AAMD,SAjBH;;AAkBA,QAAA,MAAI,CAACQ,QAAL,CAAc;AACZ,yBAAe;AADH,SAAd;AAGD,OAxBH;AAyBD;;;6BAES;AACR,UAAI,KAAKzB,KAAL,CAAW0B,WAAX,KAA2B,IAA/B,EAAqC;AACnC,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF;AAGD;;AACD,aACE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE,KAAKzB,WAAL,CAAiBsB,GAAjB,CAAqB,QAArB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF;AAID;;;;EA/CoB5B,S;;AAkDvB,eAAeG,QAAf","sourcesContent":["/* global fetch */\n\nimport React, { Component } from 'react'\nimport Navigation from './Navigation'\nimport News from './Components/news.js'\n\nclass MainPage extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      'showLoading': true\n    }\n    this.navigations = new Map()\n  }\n\n  componentDidMount () {\n    fetch('http://46.188.118.134:8082/navigations')\n      .then(response => response.json())\n      .then(response => {\n        response\n          .sort((a, b) => a.position === b.position ? a.subposition - b.subposition : a.position - b.position)\n          .forEach(item => {\n            const { type, name_ru, name_en, position, subposition } = item\n            const articleId = item.hasOwnProperty('article') === true ? item.article.id : null\n            if (this.navigations.has(type) === false) {\n              this.navigations.set(type, new Map())\n            }\n            if (this.navigations.get(type).has(position) === false) {\n              this.navigations.get(type).set(position, [])\n            }\n            this.navigations.get(type).get(position).push({\n              name_ru,\n              name_en,\n              subposition,\n              articleId\n            })\n          })\n        this.setState({\n          'showLoading': false\n        })\n      })\n  }\n\n  render () {\n    if (this.state.showLoading === true) {\n      return (\n        <p>...</p>\n      )\n    }\n    return (\n      <Navigation items={this.navigations.get('header')} />,\n      <News />\n    )\n  }\n}\n\nexport default MainPage\n"]},"metadata":{},"sourceType":"module"}