{"ast":null,"code":"import _defineProperty from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/konstantin/Desktop/web-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/konstantin/Desktop/web-master/src/Components/Navigation.js\";\n\n/* global fetch */\nimport React, { Component } from 'react';\n\nvar Navigation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Navigation, _Component);\n\n  function Navigation(props) {\n    var _this;\n\n    _classCallCheck(this, Navigation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Navigation).call(this, props));\n    _this.state = {\n      'showLoading': true,\n      'showError': false\n    };\n    _this.elements = [];\n    return _this;\n  }\n\n  _createClass(Navigation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://46.188.118.134:8082/navigations?type=\".concat(this.props.type)).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var map = new Map();\n        response.sort(function (a, b) {\n          return a.position === b.position ? a.subposition - b.subposition : a.position - b.position;\n        }).forEach(function (item) {\n          var name_ru = item.name_ru,\n              name_en = item.name_en,\n              position = item.position,\n              subposition = item.subposition;\n          var articleId = item.hasOwnProperty('article') === true ? item.article.id : null;\n\n          if (map.has(position) === false) {\n            map.set(position, []);\n          }\n\n          map.get(position).push({\n            name_ru: name_ru,\n            name_en: name_en,\n            subposition: subposition,\n            articleId: articleId\n          });\n        });\n        map.forEach(function (item) {\n          if (item.length === 1) {\n            _this2.elements.push(React.createElement(\"a\", {\n              className: \"navbar-item\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38\n              },\n              __self: this\n            }, item.pop().name_ru));\n          } else {\n            if (_this2.props.type === 'footer') {\n              var first = item.shift();\n\n              _this2.elements.push(React.createElement(\"div\", {\n                className: \"navbar-item \",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 44\n                },\n                __self: this\n              }, React.createElement(\"a\", {\n                className: \"navbar-link\",\n                onClick: function onClick() {\n                  return _this2.setState(_defineProperty({}, [first.id], {\n                    'isHidden': false\n                  }));\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 46\n                },\n                __self: this\n              }, first.name_ru), _this2.state.hasOwnProperty(first.id) === true && _this2.state[first.id].isHidden === false && React.createElement(\"div\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 49\n                },\n                __self: this\n              }, item.map(function (subItem) {\n                return React.createElement(\"a\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 51\n                  },\n                  __self: this\n                }, subItem.name_ru);\n              }))));\n            } else {\n              _this2.elements.push(React.createElement(\"div\", {\n                className: \"navbar-item has-dropdown is-hoverable\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 61\n                },\n                __self: this\n              }, React.createElement(\"a\", {\n                className: \"navbar-link\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 63\n                },\n                __self: this\n              }, item.shift().name_ru), React.createElement(\"div\", {\n                className: \"navbar-dropdown\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 65\n                },\n                __self: this\n              }, item.map(function (subItem) {\n                return React.createElement(\"a\", {\n                  className: \"navbar-item\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 67\n                  },\n                  __self: this\n                }, subItem.name_ru);\n              }))));\n            }\n          }\n        });\n\n        _this2.setState({\n          'showLoading': false,\n          'showError': false\n        });\n      }).catch(function (error) {\n        console.error(error);\n\n        _this2.setState({\n          'showLoading': false,\n          'showError': true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.showLoading === true) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Loading\");\n      }\n\n      if (this.state.showError === true) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"Error\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"navbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.elements));\n    }\n  }]);\n\n  return Navigation;\n}(Component);\n\nexport default Navigation;","map":{"version":3,"sources":["/Users/konstantin/Desktop/web-master/src/Components/Navigation.js"],"names":["React","Component","Navigation","props","state","elements","fetch","type","then","response","json","map","Map","sort","a","b","position","subposition","forEach","item","name_ru","name_en","articleId","hasOwnProperty","article","id","has","set","get","push","length","pop","first","shift","setState","isHidden","subItem","catch","error","console","showLoading","showError"],"mappings":"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","sourcesContent":["/* global fetch */\n\nimport React, { Component } from 'react'\n\nclass Navigation extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      'showLoading': true,\n      'showError': false\n    }\n    this.elements = []\n  }\n\n  componentDidMount () {\n    fetch(`http://46.188.118.134:8082/navigations?type=${this.props.type}`)\n      .then(response => response.json())\n      .then(response => {\n        const map = new Map()\n        response\n          .sort((a, b) => a.position === b.position ? a.subposition - b.subposition : a.position - b.position)\n          .forEach(item => {\n            const { name_ru, name_en, position, subposition } = item\n            const articleId = item.hasOwnProperty('article') === true ? item.article.id : null\n            if (map.has(position) === false) {\n              map.set(position, [])\n            }\n            map.get(position).push({\n              name_ru,\n              name_en,\n              subposition,\n              articleId\n            })\n          })\n        map.forEach(item => {\n          if (item.length === 1) {\n            this.elements.push(\n              <a className='navbar-item'>{item.pop().name_ru}</a>\n            )\n          } else {\n            if (this.props.type === 'footer') {\n              const first = item.shift()\n              this.elements.push(\n                <div className='navbar-item '>\n\n                  <a className='navbar-link' onClick= {() => this.setState({ [[first.id]]: { 'isHidden': false } })}>{first.name_ru}</a>\n                  {\n                    this.state.hasOwnProperty(first.id) === true && this.state[first.id].isHidden === false && (\n                      <div>\n                        {\n                          item.map(subItem => <a>{subItem.name_ru}</a>)\n                        }\n                      </div>\n                    )\n                  }\n\n                </div>\n              )\n            } else {\n              this.elements.push(\n                <div className='navbar-item has-dropdown is-hoverable'>\n\n                  <a className='navbar-link'>{item.shift().name_ru}</a>\n\n                  <div className='navbar-dropdown'>\n                    {\n                      item.map(subItem => <a className='navbar-item'>{subItem.name_ru}</a>)\n                    }\n                  </div>\n                </div>\n              )\n            }\n          }\n        })\n        this.setState({\n          'showLoading': false,\n          'showError': false\n        })\n      })\n      .catch(error => {\n        console.error(error)\n        this.setState({\n          'showLoading': false,\n          'showError': true\n        })\n      })\n  }\n  render () {\n    if (this.state.showLoading === true) {\n      return (\n        <p>Loading</p>\n      )\n    }\n    if (this.state.showError === true) {\n      return (\n        <p>Error</p>\n      )\n    }\n    return (\n      <div className='navbar'>\n        <div className='navbar-menu'>\n          {this.elements}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Navigation\n"]},"metadata":{},"sourceType":"module"}